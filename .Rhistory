file.remove('Read-and-delete-me')
pkgbuild::compile_dll()
roxygen2::roxygenise(load = "source")
pkgbuild::compile_dll() # see note below
roxygen2::roxygenise(load = "source")
pkgbuild::compile_dll() # see note below
roxygen2::roxygenise(load = "source")
class <- c(1,3,4,2,1)
Sobs <- rbind(c(0.001, 0.002, 0.001), c(0.1, 0.1, 0.12, 0.12), c(0.003, 0.0330, 0.003), c(0.1, 0.1, 0.15, 0.15))
View(Sobs)
Sobs <- cbind(c(0.001, 0.002, 0.001), c(0.1, 0.1, 0.12, 0.12), c(0.003, 0.0330, 0.003), c(0.1, 0.1, 0.15, 0.15))
class <- c(1,3,4,1)
View(Sobs)
class[class==1] <- ifelse(mean(Sobs, na.rm=T)< 0.05, 1, 5)
mean(Sobs)
#'Classify river for k600 prior assignment
#'
#'@param Wobs observed widths matrix
classify_func_k600 <- function(Wobs, Sobs) {
Wobs[Wobs <= 0] <- NA
lwbar <- mean(log(Wobs), na.rm=TRUE)
Sobs[Sobs <= 0] <- NA
lsbar <- mean(log(Sobs), na.rm=TRUE)
classes <- c(log(10),
log(50),
log(100))
Sclass <- log(0.05)
index <- ifelse(lwbar < classes[1] & lsbar < 0.05, 1,
ifelse(lwbar < classes[1] & lsbar >= 0.05, 5,
ifelse(lwbar >= classes[1] & lwbar < classes[2], 2,
ifelse(lwbar >= classes[2] & lwbar < classes[3],3,4))))
return(index)
}
Wobs <- cbind(c(100,150,100,110),c(140,145,134,140), c(100,100,100,101), c(110,112,113,120))
View(Wobs)
#' Estimate k600_hat using bigee data
#'
#' @param Wobs Observed W,as a space-down, time-across matrix
#' @export
estimate_logk600 <- function(Wobs, Sobs){
Wobs[Wobs <= 0] <- NA
Sobs[Sobs <=0] <- NA
temp <- log(c(5.666775,
3.024020,
2.034140,
2.238760,
79.464785))
class <- apply(Wobs, 2, classify_func_k600, Sobs=Sobs)
khat <- temp[class]
}
estimate_logk600(Wobs, Sobs)
t <- estimate_logk600(Wobs, Sobs)
#'Classify river for k600 prior assignment
#'
#'@param Wobs observed widths matrix
#'@param Sobs observed slopes matrix
classify_func_k600 <- function(Wobs, Sobs) {
Wobs[Wobs <= 0] <- NA
lwbar <- mean(log(Wobs), na.rm=TRUE)
Sobs[Sobs <= 0] <- NA
lsbar <- mean(log(Sobs), na.rm=TRUE)
classes <- c(log(10),
log(50),
log(100))
Sclass <- log(0.05)
index <- ifelse(lwbar < classes[1] & lsbar < 0.05, 1,
ifelse(lwbar < classes[1] & lsbar >= 0.05, 5,
ifelse(lwbar >= classes[1] & lwbar < classes[2], 2,
ifelse(lwbar >= classes[2] & lwbar < classes[3],3,4))))
print(index)
return(index)
}
t <- estimate_logk600(Wobs, Sobs)
exp(0.806)
mean(Sobs)
Wobs <- cbind(c(9,9,8,9),c(6,6,6,5), c(6,6,9,8), c(4,4,5,6))
t <- estimate_logk600(Wobs, Sobs)
mean(Sobs)
lsbar <- mean(log(Sobs), na.rm=TRUE)
#'Classify river for k600 prior assignment
#'
#'@param Wobs observed widths matrix
#'@param Sobs observed slopes matrix
classify_func_k600 <- function(Wobs, Sobs) {
Wobs[Wobs <= 0] <- NA
lwbar <- mean(log(Wobs), na.rm=TRUE)
Sobs[Sobs <= 0] <- NA
lsbar <- mean(log(Sobs), na.rm=TRUE)
classes <- c(log(10),
log(50),
log(100))
Sclass <- log(0.05)
index <- ifelse(lwbar < classes[1] & lsbar < Sclass, 1,
ifelse(lwbar < classes[1] & lsbar >= Sclass, 5,
ifelse(lwbar >= classes[1] & lwbar < classes[2], 2,
ifelse(lwbar >= classes[2] & lwbar < classes[3],3,4))))
print(index)
return(index)
}
t <- estimate_logk600(Wobs, Sobs)
lsbar <- mean(log(Sobs), na.rm=TRUE)
classes <- c(log(10),
log(50),
log(100))
Sclass <- log(0.05)
#'Classify river for k600 prior assignment
#'
#'@param Wobs observed widths matrix
#'@param Sobs observed slopes matrix
classify_func_k600 <- function(Wobs, Sobs) {
Wobs[Wobs <= 0] <- NA
lwbar <- mean(log(Wobs), na.rm=TRUE)
Sobs[Sobs <= 0] <- NA
lsbar <- mean(Sobs, na.rm=TRUE)
classes <- c(log(10),
log(50),
log(100))
Sclass <- 0.05
index <- ifelse(lwbar < classes[1] & lsbar < Sclass, 1,
ifelse(lwbar < classes[1] & lsbar >= Sclass, 5,
ifelse(lwbar >= classes[1] & lwbar < classes[2], 2,
ifelse(lwbar >= classes[2] & lwbar < classes[3],3,4))))
print(index)
return(index)
}
t <- estimate_logk600(Wobs, Sobs)
exp(4.38)
rstan:::rstudio_stanc("inst/stan/master.stan")
rstan:::rstudio_stanc("inst/stan/master.stan")
0.2724834*(2/3)
0.2724834*(3/2)
0.4366114*(3/2)
0.4366114*(2/3)
0.6624354*(3/2)
0.6624354*(2/3)
1.3160065*(3/2)
1.3160065*(2/3)
0.6488131*(3/2)
0.6488131*(2/3)
pkgbuild::compile_dll() # see note below
roxygen2::roxygenise(load = "source")
pkgbuild::compile_dll() # see note below
roxygen2::roxygenise(load = "source")
pkgbuild::compile_dll() # see note below
roxygen2::roxygenise(load = "source")
pkgbuild::compile_dll() # see note below
roxygen2::roxygenise(load = "source")
pkgbuild::compile_dll() # see note below
roxygen2::roxygenise(load = "source")
matrix(5, nrow-4, ncol=4)
matrix(5, nrow=4, ncol=4)
pkgbuild::compile_dll() # see note below
roxygen2::roxygenise(load = "source")
exp(11.6)
log(2.23)
log(2.03)
exp(-0.34)
10^-0.2
10^0.2
10^0.1
10^0.05
10^0
exp(0.26)
pkgbuild::compile_dll() # see note below
roxygen2::roxygenise(load = "source")
pkgbuild::compile_dll() # see note below
roxygen2::roxygenise(load = "source")
library(BIKER)
pkgbuild::compile_dll() # see note below
roxygen2::roxygenise(load = "source")
pkgbuild::compile_dll() # see note below
roxygen2::roxygenise(load = "source")
exp(4.7048)
0.657940*(-3/2)
0.657940*(2/3)
pkgbuild::compile_dll() # see note below
roxygen2::roxygenise(load = "source")
pkgbuild::compile_dll() # see note below
roxygen2::roxygenise(load = "source")
w <- c(40,50,45,40)
reaches <- c(100,1200,1500,2000)
w*reaches
sum(w*reaches)
w <- c(40,50,45,40)
reaches <- c(100,1200,1500,2000)
r <- reaches
for (i in 1:length(reaches)) {
r[i] <- reaches[i] - reaches[i-1]
}
for (i in 2:length(reaches)) {
r[i] <- reaches[i] - reaches[i-1]
}
w <- c(40,50,45,40)
reaches <- c(500,1200,1500,2000)
r <- reaches
for (i in 2:length(reaches)) {
r[i] <- reaches[i] - reaches[i-1]
}
w <- c(180,195,189,180)
r <- c(10060, 9919, 9960, 12634)
sum(w*r)
3.941 + 0.818*28.5
3.941 + 0.818*1.4
exp(4.44383)
(3/2)*0.59957
(2/3)*0.59957
pkgbuild::compile_dll() # see note below
roxygen2::roxygenise(load = "source")
pkgbuild::compile_dll() # see note below
roxygen2::roxygenise(load = "source")
log(0.001)
log10(0.001)
10^-0.5
exp(-7.5)
exp(-2)
log10(exp(-2))
exp(-7.281)
log10(exp(-7.281))
log10(exp(-5.976))
exp(7.1266)
log10(exp(7.1266))
log10(exp(4.1266))
log10(exp(-2.22))
log10(exp(-6.43))
log10(4)
log(48)
0.0001^(1/2)
pkgbuild::compile_dll() # see note below
roxygen2::roxygenise(load = "source")
10^-0.2
10^1
10^-2
10^-0.5
0.59957*(3/2)
0.59957*(2/3)
pkgbuild::compile_dll() # see note below
roxygen2::roxygenise(load = "source")
pkgbuild::compile_dll() # see note below
roxygen2::roxygenise(load = "source")
pkgbuild::compile_dll() # see note below
roxygen2::roxygenise(load = "source")
pkgbuild::compile_dll() # see note below
roxygen2::roxygenise(load = "source")
pkgbuild::compile_dll() # see note below
roxygen2::roxygenise(load = "source")
pkgbuild::compile_dll() # see note below
roxygen2::roxygenise(load = "source")
pkgbuild::compile_dll() # see note below
roxygen2::roxygenise(load = "source")
pkgbuild::compile_dll() # see note below
roxygen2::roxygenise(load = "source")
S_obs <- c(c(4,5,4), c(6,7,8), c(6,7,5))
colSobs <- colMeans(log(Sobs), na.rm=T)
Sobs <- S_obs
colSobs <- colMeans(log(Sobs), na.rm=T)
colMeans(log(Sobs), na.rm=T)
Sobs <- matric(c(4,5,4), c(6,7,8), c(6,7,5))
Sobs <- matrix(c(4,5,4), c(6,7,8), c(6,7,5))
View(Sobs)
colMeans(log(Sobs), na.rm=T)
# khat <- 5.0941 + 0.6417*colSobs #ifelse(colSobs < -4.634, 3.22 + 0.347*colSobs, 6.85 + 1.13*colSobs)
khat <- log(1144.6*colMeans(Sobs, na.rm=T)) #r2 0.52 using ulseth data where Rh=H
pkgbuild::compile_dll() # see note below
roxygen2::roxygenise(load = "source")
roxygen2::roxygenise(load = "source")
roxygen2::roxygenise(load = "source")
roxygen2::roxygenise(load = "source")
pkgbuild::compile_dll() # see note below
roxygen2::roxygenise(load = "source")
rstan:::rstudio_stanc("inst/stan/master.stan")
pkgbuild::compile_dll() # see note below
roxygen2::roxygenise(load = "source")
rstan:::rstudio_stanc("inst/stan/master.stan")
rstan:::rstudio_stanc("inst/stan/master.stan")
rstan:::rstudio_stanc("inst/stan/master.stan")
pkgbuild::compile_dll() # see note below
roxygen2::roxygenise(load = "source")
exp(1.1653668 )
exp(1.5)
log(0.001)
log(500)
pkgbuild::compile_dll() # see note below
roxygen2::roxygenise(load = "source")
9/16
11/16
rstan:::rstudio_stanc("inst/stan/master.stan")
rstan:::rstudio_stanc("inst/stan/master.stan")
pkgbuild::compile_dll() #this grabs everything and updates the actual package
roxygen2::roxygenise(load = "source") #This provides in-line function documentation
install.packages('roxygen2')
install.packages("roxygen2")
pkgbuild::compile_dll() #this grabs everything and updates the actual package
roxygen2::roxygenise(load = "source") #This provides in-line function documentation
pkgbuild::compile_dll() #this grabs everything and updates the actual package
roxygen2::roxygenise(load = "source") #This provides in-line function documentation
9/16
11/16
pkgbuild::compile_dll() #this grabs everything and updates the actual package
roxygen2::roxygenise(load = "source") #This provides in-line function documentation
47+17
46+17
31+16
47+17
47+16
exp(0.265191)
exp(-1.353)
pkgbuild::compile_dll() #this grabs everything and updates the actual package
roxygen2::roxygenise(load = "source") #This provides in-line function documentation
pkgbuild::compile_dll() #this grabs everything and updates the actual package
roxygen2::roxygenise(load = "source") #This provides in-line function documentation
pkgbuild::compile_dll() #this grabs everything and updates the actual package
roxygen2::roxygenise(load = "source") #This provides in-line function documentation
getwd()
source("~/.active-rstudio-document", echo=TRUE)
i <- 1:10
outer(i, i, "*")
source("~/.active-rstudio-document", echo=TRUE)
system.time({print(seq(1,1000,1))})
2/12
(2/12) + 9/16
(2/12) + (9/16)
12*16
48/16
12*4
8+27
35/48
48/3
35/3
48/7
48/7
48/5
7/16
9/16
34/48
7/16
9/16
35/48
35/48
rstan:::rstudio_stanc("inst/stan/master.stan")
pkgbuild::compile_dll() #this grabs everything and updates the actual package
roxygen2::roxygenise(load = "source") #This provides in-line function documentation
7/16
9/16
35/48
(2/3)*0.25
2/12
47.2*9.8^(7/16)*0.001^(9/16)
47.2*9.8^(7/16)*0.00001^(9/16)
exp(-0.24)
log(47.2*9.8^(7/16)*8.5e-5^(9/16))
log(47.2*9.8^(7/16)*5.5e-5^(9/16))
log(47.2*9.8^(7/16)*8.5e-4^(9/16))
log(47.2*9.8^(7/16)*1.16e-4^(9/16))
source('~/OneDrive - University of Massachusetts/Ongoing Projects/RSK600/src/swot_k_model_v3.R', echo=TRUE)
#######PRINT MODELS FOR PRIOR SPECIFICATIONS. THESE ARE MANUALLY IMPLEMENTED WITHIN BIKER BUT ARE CALCULATED USING THIS DATASET--------------------------
#khat prior model for BIKER. Basically the k model without depth as it isn't SWOT observable
hydraulicallyWide$term <- g^(7/16)*hydraulicallyWide$slope^(9/16)
lmPrior <- lm((k600)~term+0, data=hydraulicallyWide)
summary(lmPrior)
#######PRINT MODELS FOR PRIOR SPECIFICATIONS. THESE ARE MANUALLY IMPLEMENTED WITHIN BIKER BUT ARE CALCULATED USING THIS DATASET--------------------------
#khat prior model for BIKER. Basically the k model without depth as it isn't SWOT observable
hydraulicallyWide$term <- hydraulicallyWide$Qm3s #g^(7/16)*hydraulicallyWide$slope^(9/16)
lmPrior <- lm((k600)~term+0, data=hydraulicallyWide)
summary(lmPrior)
lmPrior <- lm(log(k600)~log(term), data=hydraulicallyWide)
summary(lmPrior)
#######PRINT MODELS FOR PRIOR SPECIFICATIONS. THESE ARE MANUALLY IMPLEMENTED WITHIN BIKER BUT ARE CALCULATED USING THIS DATASET--------------------------
#khat prior model for BIKER. Basically the k model without depth as it isn't SWOT observable
hydraulicallyWide$term <- g^(7/16)*hydraulicallyWide$slope^(9/16)
lmPrior <- lm(log(k600)~log(term), data=hydraulicallyWide)
summary(lmPrior)
#######PRINT MODELS FOR PRIOR SPECIFICATIONS. THESE ARE MANUALLY IMPLEMENTED WITHIN BIKER BUT ARE CALCULATED USING THIS DATASET--------------------------
#khat prior model for BIKER. Basically the k model without depth as it isn't SWOT observable
hydraulicallyWide$term <- hydraulicallyWide$Qm3s #g^(7/16)*hydraulicallyWide$slope^(9/16)
lmPrior <- lm(log(k600)~log(term), data=hydraulicallyWide)
summary(lmPrior)
exp(0.90)*16623^0.15
log(0.78)
log(10)
log(6)
log(3.45)
exp(30)
exp(.30)
source("C:/Users/cbrinkerhoff/OneDrive - University of Massachusetts/Ongoing Projects/BIKER/R/utils.R", echo=TRUE)
cv2sigma(1)
library(devtools)
g
library(rlang)
library(testtha)
library(testthat)
install.packages('testthat')
install.packages("testthat")
pkgbuild::compile_dll() #this grabs everything and updates the actual package
roxygen2::roxygenise(load = "source") #This provides in-line function documentation
install.packages('rstantools')
library(rstantools)
pkgbuild::compile_dll() #this grabs everything and updates the actual package
roxygen2::roxygenise(load = "source") #This provides in-line function documentation
pkgbuild::compile_dll() #this grabs everything and updates the actual package
roxygen2::roxygenise(load = "source") #This provides in-line function documentation
pkgbuild::compile_dll() #this grabs everything and updates the actual package
roxygen2::roxygenise(load = "source") #This provides in-line function documentation
